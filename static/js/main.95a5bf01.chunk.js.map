{"version":3,"sources":["components/SearchBar/SearchBar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","services/api.js","components/App/App.jsx","index.js"],"names":["SearchBar","state","imgName","imgToSearch","setState","onFormSubmit","e","preventDefault","props","onSubmit","this","className","type","onChange","target","value","autoComplete","autoFocus","placeholder","Component","propsTypes","PropTypes","func","Modal","pressEsc","code","onClose","onBackDropClick","currentTarget","window","addEventListener","removeEventListener","img","alt","onClick","src","require","ImageGalleryItem","isOpen","modalImg","onClickImg","largeImg","onCloseModal","image","largeImageURL","tags","webformatURL","id","Button","onClickBtn","ImageGallery","imgsArray","images","map","length","API_KEY","axios","defaults","baseURL","getImg","a","page","queryOptions","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","get","toString","data","loaderStyle","position","left","top","transform","App","searchImg","loader","fetchNextPageImg","prevState","getSearchImg","imgs","totalHits","toast","error","hits","success","message","onSearchSubmit","prevProps","color","height","width","style","timeout","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.95a5bf01.chunk.js","sourcesContent":["import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './SearchBar.scss';\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    imgName: '',\r\n  };\r\n\r\n  imgToSearch = imgName => {\r\n    this.setState({ imgName });\r\n  };\r\n\r\n  onFormSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.imgName);\r\n  };\r\n\r\n  render() {\r\n    const { imgToSearch, onFormSubmit, state } = this;\r\n    return (\r\n      <header className=\"searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={onFormSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            &#128269;\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={e => imgToSearch(e.target.value)}\r\n            value={state.imgName}\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchBar.propsTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nexport default SearchBar;\r\n","import PropTypes from 'prop-types';\r\nimport './Modal.scss';\r\nconst { Component } = require('react');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.pressEsc);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.pressEsc);\r\n  }\r\n\r\n  pressEsc = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onBackDropClick = e => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { img, alt } = this.props;\r\n    return (\r\n      <div className=\"overlay\" onClick={this.onBackDropClick}>\r\n        <div className=\"modal\">\r\n          <img src={img} alt={alt} />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  img: PropTypes.string,\r\n  alt: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default Modal;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './ImageGalleryItem.scss';\r\nimport Modal from '../Modal/Modal';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = {\r\n    isOpen: false,\r\n    modalImg: '',\r\n    alt: '',\r\n  };\r\n\r\n  onClickImg = (largeImg, alt) => {\r\n    this.setState({ isOpen: !this.state.isOpen, modalImg: largeImg, alt });\r\n  };\r\n\r\n  onCloseModal = () => {\r\n    this.setState({ isOpen: false, modalImg: '', alt: '' });\r\n  };\r\n\r\n  render() {\r\n    const image = this.props.image;\r\n    const { state, onCloseModal } = this;\r\n    return (\r\n      <>\r\n        <li\r\n          className=\"ImageGalleryItem\"\r\n          key={image.id}\r\n          onClick={e => this.onClickImg(image.largeImageURL, image.tags)}\r\n        >\r\n          <img\r\n            className=\"ImageGalleryItem-image\"\r\n            src={image.webformatURL}\r\n            alt={image.tags}\r\n          />\r\n        </li>\r\n        {this.state.isOpen && (\r\n          <Modal img={state.modalImg} alt={state.alt} onClose={onCloseModal} />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport './Button.scss';\r\n\r\nconst Button = ({ onClickBtn }) => {\r\n  return (\r\n    <div className=\"coverBtn\">\r\n      <button onClick={() => onClickBtn()} className=\"btn\" type=\"button\">\r\n        Load more\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClickBtn: PropTypes.func,\r\n};\r\n\r\nexport default Button;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport './ImageGallery.scss';\r\nimport Button from '../Button/Button';\r\n\r\nconst ImageGallery = ({ images: { imgsArray }, onClickBtn }) => {\r\n  return (\r\n    <>\r\n      <ul className=\"ImageGallery\">\r\n        {imgsArray.map(img => (\r\n          <ImageGalleryItem image={img} />\r\n        ))}\r\n      </ul>\r\n      {imgsArray.length > 11 && <Button onClickBtn={onClickBtn} />}\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  onClickBtn: PropTypes.func,\r\n  images: PropTypes.shape({\r\n    imgsArray: PropTypes.array,\r\n  }),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nconst API_KEY = '24484342-5d490b786e593542a839fc86b';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nconst getImg = async (imgToSearch, page = 1) => {\r\n  const queryOptions = new URLSearchParams({\r\n    key: API_KEY,\r\n    q: imgToSearch,\r\n    image_type: 'photo',\r\n    orientation: 'horizontal',\r\n    safesearch: true,\r\n    per_page: 12,\r\n    page,\r\n  });\r\n  try {\r\n    const { data } = await axios.get('?' + queryOptions.toString());\r\n    return data;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default getImg;\r\n","import { Component } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\n\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport SearchBar from '../SearchBar/SearchBar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport getImg from '../../services/api';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst loaderStyle = {\r\n  position: 'fixed',\r\n  left: '50%',\r\n  top: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n};\r\n\r\nclass App extends Component {\r\n  state = {\r\n    page: 1,\r\n    imgsArray: [],\r\n    searchImg: '',\r\n    loader: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchImg, page } = this.state;\r\n    if (prevState.searchImg !== searchImg || prevState.page !== page) {\r\n      this.getSearchImg();\r\n    }\r\n  }\r\n\r\n  fetchNextPageImg = () => {\r\n    this.setState(prevState => ({\r\n      page: prevState.page + 1,\r\n    }));\r\n  };\r\n\r\n  getSearchImg = async () => {\r\n    const { searchImg, page } = this.state;\r\n    this.setState({ loader: true });\r\n    try {\r\n      const imgs = await getImg(searchImg, page);\r\n\r\n      if (!imgs.totalHits) {\r\n        return toast.error('Please write valid value');\r\n      }\r\n\r\n      this.setState(prevState => ({\r\n        imgsArray: [...prevState.imgsArray, ...imgs.hits],\r\n      }));\r\n\r\n      if (this.state.imgsArray.length && this.state.page === 1) {\r\n        toast.success(`We found ${imgs.totalHits} images`);\r\n      }\r\n\r\n      return imgs.hits;\r\n    } catch (error) {\r\n      toast.error(`${error.message}`);\r\n    } finally {\r\n      this.setState({ loader: false });\r\n    }\r\n  };\r\n\r\n  onSearchSubmit = searchImg => {\r\n    this.setState({ searchImg, imgsArray: [], page: 1 });\r\n  };\r\n\r\n  render() {\r\n    const { onSearchSubmit, fetchNextPageImg, state } = this;\r\n    return (\r\n      <>\r\n        <SearchBar onSubmit={onSearchSubmit} />\r\n        <main>\r\n          {state.loader && (\r\n            <Loader\r\n              type=\"ThreeDots\"\r\n              color=\"#00BFFF\"\r\n              height={80}\r\n              width={80}\r\n              style={{ ...loaderStyle }}\r\n              timeout={1000}\r\n            />\r\n          )}\r\n          <ImageGallery images={state} onClickBtn={fetchNextPageImg} />\r\n          <ToastContainer />\r\n        </main>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}